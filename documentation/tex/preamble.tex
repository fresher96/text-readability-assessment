
\documentclass[11pt]{report}


% included packages
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{wrapfig}
\usepackage[autostyle]{csquotes}
\usepackage{amsfonts}
\usepackage[end]{algpseudocode}
\usepackage{caption}
\usepackage{setspace}
\usepackage{subcaption}
\usepackage{hyperref}
\usepackage[a4paper, total={6.25in, 8.5in}]{geometry}
\usepackage{algorithm}
\usepackage[all]{hypcap}
\usepackage{fontspec}
\usepackage{lipsum}
%\usepackage{tocbibind}
\usepackage{longtable}
\usepackage{tabu}
\usepackage{array}
\usepackage{placeins}
\usepackage{afterpage}
\usepackage{slashbox}



% header/footer settings
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[R]{\rightmark}
\fancyhead[L]{\leftmark}
\fancyfoot[C]{\thepage}
\renewcommand{\headrulewidth}{0.5pt}
%\renewcommand{\sectionmark}[1]{\markright{#1}}
\renewcommand{\subsectionmark}[1]{}
\renewcommand{\subsubsectionmark}[1]{}



% polyglossia settings
\usepackage{polyglossia}
\setmainlanguage[numerals = maghrib]{arabic}
\setotherlanguage{english}

\setmainfont[Ligatures = TeX, Script = Arabic, Scale = 1]{Latin Modern Roman}
\setsansfont[Ligatures = TeX, Script = Arabic, Scale = 3]{Traditional Arabic}
\setmonofont[Ligatures = TeX, Script=Arabic, Scale = 1.2]{Traditional Arabic}
\newfontfamily\arabicfont[Script = Arabic, Ligatures = TeX, Scale = 1.5]{Traditional Arabic}
\newfontfamily\englishfont[Ligatures = TeX, Script = Latin, Scale = 1.15]{Latin Modern Roman}

%\setmainfont[Ligatures = TeX, Script = Arabic, Scale = 1]{Latin Modern Roman}
%\setsansfont[Ligatures = TeX, Script = Arabic, Scale = 3]{Traditional Arabic}
%\setmonofont[Ligatures = TeX, Script=Arabic, Scale = 3]{Traditional Arabic}
%\newfontfamily\arabicfont[Script = Arabic, Ligatures = TeX, Scale = 1.6]{Scheherazade}
%\newfontfamily\englishfont[Ligatures = TeX, Script = Latin, Scale = 1.15]{Latin Modern Roman}
%\DeclareMathSizes{18.7}{200}{16.59}{13.82}



% fixing parentheses in equations' numbering
\renewcommand{\theequation}{\arabic{equation}}
\makeatletter
\def\maketag@@@#1{\hbox{\m@th\normalfont\LRE{#1}}}
\def\tagform@#1{\maketag@@@{(\ignorespaces#1\unskip)}}
\makeatother



% fixing section/figure/table numbering
\renewcommand{\thesection}{\arabic{section}.\arabic{chapter}}
\renewcommand{\thesubsection}{\arabic{subsection}.\arabic{section}.\arabic{chapter}}
\renewcommand{\thesubsubsection}{\arabic{subsubsection}.\arabic{subsection}.\arabic{section}.\arabic{chapter}}
\renewcommand{\thefigure}{\arabic{figure}.\arabic{chapter}}
\renewcommand{\thetable}{\arabic{table}.\arabic{chapter}}



% setting chapter numbering to words
\newcommand\words[1]{\expandafter\xwords\csname c@#1\endcsname}
\def\xwords#1{\ifcase#1\or
	الأول\or          
	الثاني\or          
	الثالث\or 
	الرابع\or 
	الخامس\or 
	السادس\or 
	السابع\or 
	الثامن\or 
	التاسع\or 
	العاشر\or 
	الحادي عشر\or 
	الثاني عشر\or 
	الثالث عشر\or 
	الرابع عشر\or 
	الخامس عشر\or 
	السادس عشر\or  
	السابع عشر\or
	الثامن عشر\or 
	التاسع عشر\or 
	العشرون\or 
	\else
	أحتاج إلى المزيد من الأرقام!!!
	 \fi
}
\makeatletter
\patchcmd{\@makechapterhead}{\thechapter}{\words{chapter}}{}{}
\makeatother


% fixing footnoterule orientation
\renewcommand{\footnoterule}{%
	\kern-3pt
	\nointerlineskip
	\moveright.6\columnwidth\vbox{\hrule width.4\columnwidth}%
	\nointerlineskip
	\kern2.6pt
}



% references settings
\usepackage[
backend = biber,
sorting = ynt,
%style = authoryear,
%citestyle=authoryear
%language = english,
%autolang = langname, % never use this with polyglossia, there seem to be a bug
bibstyle=numeric,
style = numeric
]{biblatex}
\addbibresource{tex/references.bib}
%\AtEveryBibitem{\clearfield{pages}}
\renewcommand\multicitedelim{\space\space\addcomma}





% preferences settings
\setlength{\parskip}{1em}
\setlength{\parindent}{0em}
\renewcommand{\baselinestretch}{1.5}
\hypersetup{colorlinks = true, allcolors = black} % change links colors
\captionsetup[figure]{name={الشكل}}
\addto\captionsarabic{\renewcommand{\chaptername}{الفصل}}
\newcommand{\eng}[1]{\textenglish{#1}}



% custom math commands definition
\newcommand{\argmax}{\operatornamewithlimits{argmax}}
\newcommand{\argmin}{\operatornamewithlimits{argmin}}
\newcommand{\norm}[1]{\left\lVert#1\right\rVert_{2}}
\newcommand{\pospart}[1]{\left\lfloor#1\right\rfloor_{+}}
\newcommand{\abs}[1]{\left\vert#1\right\vert}


